(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9552],{48085:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r=n(85893),i=n(41664),a=n.n(i),s=n(26209),l=n(41978),o=n(63570),c=n.n(o);function d(e){let{children:t}=e;return(0,r.jsx)("header",{children:(0,r.jsxs)("div",{className:c().toolbar,role:"banner",children:[(0,r.jsx)(a(),{href:"/",className:c().logo,children:(0,r.jsx)(l.F,{width:80,height:24})}),t,(0,r.jsx)("div",{className:c().spacer}),(0,r.jsx)("nav",{className:c().menu,children:(0,r.jsx)("a",{href:"https://docs.wokwi.com/?utm_source=wokwi",target:"_blank",children:"Docs"})}),(0,r.jsx)(s.I,{size:"small"})]})})}},13819:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(85893),i=n(86213);let a=e=>{let{children:t}=e;return(0,r.jsx)(i.Z,{direction:"column",minHeight:"100vh",children:t})}},68351:function(e,t,n){"use strict";n.d(t,{i:function(){return p}});var r=n(85893),i=n(46670),a=n(98969),s=n(43508),l=n(24766),o=n(54902),c=n(83054),d=n(14556),u=n(7418),h=n(67294),m=n(43123);let p=(0,i.Pi)(e=>{let{project:t,isOpen:n,onClose:i}=e,p=(0,h.useContext)(m.St),[x,g]=(0,h.useState)(t.name),f=()=>{i()},b=()=>{x&&(t.setName(x),(0,u.ty)(p,t)),i()};return(0,r.jsx)(l.Z,{open:n,onClose:f,children:(0,r.jsxs)("form",{onSubmit:e=>{b(),e.preventDefault()},children:[(0,r.jsx)(d.Z,{children:"Rename Project"}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(s.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:x,fullWidth:!0,variant:"outlined",onChange:e=>{g(e.target.value)}})}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{color:"inherit",onClick:f,children:"Cancel"}),(0,r.jsx)(a.Z,{variant:"contained",disabled:0===x.length,onClick:b,children:"Rename"})]})]})})})},22366:function(e,t,n){"use strict";n.d(t,{m:function(){return t7}});var r=n(85893),i=n(55317),a=n(8849),s=n.n(a),l=n(55771),o=n(54123),c=n(83180),d=n(31555),u=n(64268),h=n(18610),m=n(94564),p=n(25798),x=n(16950),g=n(92847),f=n(98969),b=n(32186),j=n(9304),v=n(13264),k=n(46670),y=n(9008),Z=n.n(y),w=n(41664),C=n.n(w),_=n(11163),S=n.n(_),P=n(67294),I=n(36229),L=n(26522),E=n(43123),N=n(51920),D=n(43916),F=n(7418),R=n(17904),T=n(42046),z=n(61763),B=n(45524);let W=(0,P.createContext)(null),M=(0,v.Z)(f.Z)({minWidth:"28px",padding:"4px 0"});function O(e){let{text:t,children:n,variant:i,...a}=e,[s,l]=(0,P.useState)(!1),o=(0,P.useRef)(null),c=()=>l(!1);return(0,r.jsxs)(W.Provider,{value:{closeMenu:c},children:[(0,r.jsxs)(z.Z,{variant:i,ref:o,children:[(0,r.jsx)(f.Z,{variant:i,...a,children:t}),(0,r.jsx)(M,{size:"small",onClick:()=>l(!0),variant:i,children:(0,r.jsx)(T.Z,{})})]}),(0,r.jsx)(B.Z,{open:s,onClose:c,anchorEl:o.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:n})]})}function U(e){let{children:t}=e,n=(0,P.useContext)(W);return(0,r.jsx)("div",{onClick:()=>{null==n||n.closeMenu()},children:t})}var A=n(8071),H=n(48085),G=n(13819),V=n(68351),q=n(86213),Y=n(69320),X=n(24766),K=n(54902),$=n(83054),J=n(14556),Q=n(43508),ee=n(61430),et=n(54335),en=n(91758),er=n(37620),ei=n(7180),ea=n(81258);let es=(0,k.Pi)(e=>{let{privacy:t,onPrivacyChange:n}=e,i=(0,P.useContext)(E.St);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ee.Z,{margin:"normal",children:[(0,r.jsx)(et.Z,{id:"privacy-radio-buttons-group",children:"Project privacy:"}),(0,r.jsxs)(en.Z,{"aria-labelledby":"privacy-radio-buttons-group",name:"controlled-radio-buttons-group",value:t,onChange:e=>n(e.target.value),children:[(0,r.jsx)(x.Z,{value:"public",control:(0,r.jsx)(er.Z,{}),label:(0,r.jsxs)(q.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(m.Z,{minWidth:60,children:"Public"}),(0,r.jsx)(ei.Z,{fontSize:"small"})]})}),(0,r.jsx)(x.Z,{value:"unlisted",control:(0,r.jsx)(er.Z,{}),label:(0,r.jsxs)(q.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,r.jsx)(m.Z,{minWidth:60,children:"Unlisted"}),(0,r.jsx)(ea.Z,{fontSize:"small"})]})})]})]}),"unlisted"===t&&!i.club&&(0,r.jsxs)(Y.Z,{children:["In order to save as unlisted, ",(0,r.jsx)("br",{}),"please join the Wokwi Club. ",(0,r.jsx)("br",{}),(0,r.jsx)(f.Z,{variant:"outlined",color:"secondary",href:"https://wokwi.com/club?ref=unlisted",target:"_blank",onClick:()=>(0,N.c)("club:learnMore:unlistedSave"),sx:{marginTop:1},children:"Learn more"})]})]})}),el=(0,k.Pi)(e=>{var t;let{project:n,isOpen:i,onClose:a,onSaveCopyClick:s}=e,[l,o]=(0,P.useState)(""),c=(0,P.useContext)(E.St),[d,u]=(0,P.useState)("public");(0,P.useEffect)(()=>{i&&o(function(e){let t=e.match(/^(.*) \((\d+)\)$/);if(t){let e=t[1],n=parseInt(t[2],10);return"".concat(e," (").concat(n+1,")")}return e.endsWith(" Copy")?"".concat(e," (2)"):"".concat(e," Copy")}(n.name))},[i,n.name]);let h=()=>{a()},m=()=>{l&&(n.setUnlisted("unlisted"===d),n.setLocked(!1),s(l),a())};return(0,r.jsx)(X.Z,{open:i,onClose:h,children:(0,r.jsxs)("form",{onSubmit:e=>{m(),e.preventDefault()},children:[(0,r.jsx)(J.Z,{children:"Save a Copy"}),(0,r.jsx)($.Z,{children:(0,r.jsxs)(q.Z,{children:[n.owner&&n.owner!==c.id&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Y.Z,{children:["This project is owned by ",null!==(t=n.ownerUsername)&&void 0!==t?t:"a different user","."]}),(0,r.jsx)(Y.Z,{gutterBottom:!0,children:"You can save a copy of this project in your account."})]}),(0,r.jsx)(Q.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:l,fullWidth:!0,variant:"outlined",onChange:e=>{o(e.target.value)}}),(0,r.jsx)(es,{privacy:d,onPrivacyChange:u}),(0,r.jsx)(Y.Z,{variant:"caption",color:"text.secondary",children:"Don't share sensitive data (such as passwords) in public projects."})]})}),(0,r.jsxs)(K.Z,{children:[(0,r.jsx)(f.Z,{color:"inherit",onClick:h,children:"Cancel"}),(0,r.jsx)(f.Z,{variant:"contained",disabled:0===l.length||"unlisted"===d&&!c.club,onClick:m,children:"Save Copy"})]})]})})}),eo=(0,k.Pi)(e=>{let{project:t,isOpen:n,onClose:i,onSaveClick:a}=e,[s,l]=(0,P.useState)(t.name),[o,c]=(0,P.useState)("public"),d=()=>{i()},u=()=>{s&&(t.setUnlisted("unlisted"===o),a(s),i())},h=(0,P.useContext)(E.St);return(0,r.jsx)(X.Z,{open:n,onClose:d,children:(0,r.jsxs)("form",{onSubmit:e=>{u(),e.preventDefault()},children:[(0,r.jsx)(J.Z,{children:"Save Your Project"}),(0,r.jsx)($.Z,{children:(0,r.jsxs)(q.Z,{children:[(0,r.jsx)(Q.Z,{autoFocus:!0,margin:"dense",id:"name",label:"Project Name",value:s,fullWidth:!0,variant:"outlined",onChange:e=>{l(e.target.value)}}),(0,r.jsx)(es,{privacy:o,onPrivacyChange:c}),(0,r.jsx)(Y.Z,{variant:"caption",color:"text.secondary",children:"Don't share sensitive data (such as passwords) in public projects."})]})}),(0,r.jsxs)(K.Z,{children:[(0,r.jsx)(f.Z,{color:"inherit",onClick:d,children:"Cancel"}),(0,r.jsx)(f.Z,{variant:"contained",disabled:0===s.length||"unlisted"===o&&!h.club,onClick:u,children:"Save"})]})]})})});var ec=n(74782),ed=n(60637),eu=n.n(ed);function eh(e){let{link:t}=e,{translate:n}=(0,I.q)("project.shareDialog"),a=(0,P.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",value:t,ref:a,readOnly:!0,onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.select()}}),(0,r.jsx)(b.Z,{title:n("copyToClipboard","Copy to clipboard"),children:(0,r.jsx)(j.Z,{onClick:e=>{var t;null===(t=a.current)||void 0===t||t.select(),document.execCommand("copy"),e.target.focus()},children:(0,r.jsx)(s(),{path:i._U3,size:1})})})]})}function em(e){var t;let{open:n,onClose:a,project:l,saving:o,onSaveProject:c}=e,{translate:d}=(0,I.q)("project.shareDialog");return(0,r.jsxs)(X.Z,{open:n,onClose:a,classes:{paper:eu().modalContent},children:[(0,r.jsx)(ec.P,{onClose:a}),(0,r.jsx)(J.Z,{children:d("title","Share Project")}),(0,r.jsx)($.Z,{children:(null==l?void 0:l.url)?(0,r.jsx)("div",{className:eu().shareLinkContainer,children:(0,r.jsx)(eh,{link:null!==(t=l.url)&&void 0!==t?t:""})}):(0,r.jsxs)(Y.Z,{children:[d("pleaseSave","To share this project, please save it first:"),(0,r.jsx)(m.Z,{mt:2,children:(0,r.jsx)(f.Z,{variant:"contained",startIcon:o?(0,r.jsx)(s(),{path:i.CEZ,size:1,spin:!0}):(0,r.jsx)(s(),{path:i.Tls,size:1}),onClick:c,children:d("saveProject","Save project")})})]})}),(0,r.jsx)(K.Z,{children:(0,r.jsx)(f.Z,{onClick:a,children:d("closeButton","Close")})})]})}var ep=n(77227),ex=n(7648),eg=n(53930),ef=n(64601),eb=n(54263),ej=n(89779),ev=n(3969),ek=n(10120),ey=n(6135);let eZ=(0,k.Pi)(e=>{let{show:t,onHide:n,featureName:i}=e,a=encodeURIComponent("".concat(i));return(0,r.jsxs)(X.Z,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,r.jsx)(J.Z,{id:"form-dialog-title",children:"Hmm... Join the club?"}),(0,r.jsx)($.Z,{children:"File upload is only available to Wokwi Club members."}),(0,r.jsxs)(K.Z,{children:[(0,r.jsx)(f.Z,{variant:"outlined",onClick:n,sx:{margin:1},children:"Close"}),(0,r.jsx)(f.Z,{variant:"contained",href:"/club?ref=".concat(a),target:"_blank",children:"Learn more"})]})]})});var ew=n(47608),eC=n(20119),e_=n(59370);function eS(e){var t;return(0,r.jsxs)(m.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,r.jsx)(e_.Z,{variant:"determinate",...e}),(0,r.jsx)(m.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(Y.Z,{variant:"caption",component:"div",color:"text.secondary",children:"".concat(Math.round(null!==(t=e.value)&&void 0!==t?t:100),"%")})})]})}let eP=(0,k.Pi)(e=>{let{file:t,onRemove:n}=e,i=t.name.substring(ev.ir.length);return(0,r.jsxs)(ej.ZP,{secondaryAction:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j.Z,{onClick:()=>n(t),children:(0,r.jsx)(ew.Z,{})})}),children:[(0,r.jsx)(p.Z,{primary:i,secondary:"".concat(t.size," bytes"),sx:{marginRight:1}}),t.transferring&&(0,r.jsx)(eS,{value:Math.floor(100*t.progress)}),t.uploadFailed&&(0,r.jsx)(b.Z,{title:"Upload failed",children:(0,r.jsx)(eC.Z,{color:"error"})})]})}),eI=(0,k.Pi)(()=>{let e=(0,ep.a)(),t=(0,ey.P)(),{translate:n}=(0,I.q)("editor.sdCard"),[i,a]=(0,P.useState)(!1),s=async n=>{if(!e.club){a(!0);return}let{files:r}=await (0,ek.aE)(n?{directory:!0}:{multiple:!0});for(let n of r)t.uploadFile(e,n,ev.ir)},l=e=>t.removeServerFile(e),{sdCardFiles:o}=t;return(0,r.jsxs)(m.Z,{display:"flex",flexDirection:"column",flex:1,height:0,children:[(0,r.jsx)(eZ,{show:i,onHide:()=>a(!1),featureName:"sdcard"}),(0,r.jsxs)(m.Z,{p:1,children:[(0,r.jsx)(O,{text:n("uploadFiles","Upload files"),variant:"contained",onClick:()=>s(!1),children:(0,r.jsx)(U,{children:(0,r.jsxs)(h.Z,{onClick:()=>s(!0),children:[(0,r.jsx)(ef.Z,{children:(0,r.jsx)(eg.Z,{fontSize:"small"})}),(0,r.jsx)(p.Z,{children:n("uploadCompleteFolder","Upload complete folder")})]})})}),(0,r.jsx)(f.Z,{variant:"outlined",sx:{marginLeft:1},onClick:()=>{for(let e of Array.from(t.serverFiles))t.removeServerFile(e)},children:n("uploadCompleteFolder","Delete all files")})]}),(0,r.jsxs)(eb.Z,{sx:{flex:1,bgcolor:"background.paper",overflow:"auto"},children:[!o.length&&(0,r.jsx)(ej.ZP,{children:(0,r.jsx)(p.Z,{primary:n("noFilesYet","No files yet. Please upload some files.")})}),o.map(e=>(0,r.jsx)(eP,{file:e,onRemove:l},e.name))]})]})});var eL=n(70572),eE=n(68949),eN=n(37678),eD=n(19538),eF=n(59286),eR=n(15192),eT=n(50119),ez=n(49733),eB=n(3807),eW=n(22502),eM=n(15435),eO=n(16302),eU=n(34603),eA=n(18594),eH=n(28864),eG=n(70347),eV=n(38121),eq=n(86145),eY=n(91460),eX=n(64803),eK=n(13589),e$=n(21847),eJ=n(76517),eQ=n(78775),e0=n(20731),e1=n(95591),e2=n(9764),e3=n(86010);let e6=e=>fetch(e).then(e=>e.json()),e5=(0,k.Pi)(e=>{var t;let{onAddLibrary:n,onUploadLibrary:i}=e,{data:a,error:s}=(0,e1.ZP)("https://libraries.wokwi.workers.dev/list",e6),[l,o]=(0,P.useState)(""),[c,d]=(0,P.useState)(-1),u=(0,P.useRef)(null),p=(0,P.useRef)(null),x=(0,P.useRef)(null);if(s)return(0,r.jsx)(m.Z,{p:1,children:(0,r.jsx)(Y.Z,{children:"Error loading library index :-("})});let g=l.trim().toLowerCase(),b=g&&null!==(t=null==a?void 0:a.libraries.filter(e=>e.toLowerCase().includes(g)))&&void 0!==t?t:[],j=e=>{let t=b.length-1;switch(e){case"ArrowUp":return Math.max(0,c-1);case"ArrowDown":return Math.min(t,c+1);case"PageUp":return Math.max(0,c-12);case"PageDown":return Math.max(0,c+12);default:return null}},v=e=>{let t=j(e.code);if(null!=t){var n;null===(n=p.current)||void 0===n||n.scrollIntoView({index:t,behavior:"auto",done:()=>d(t)}),e.preventDefault()}};return(0,r.jsxs)(m.Z,{p:2,minWidth:300,children:[(0,r.jsxs)(eK.Z,{position:"sticky",onFocus:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.focus()},children:[(0,r.jsx)(e$.Z,{autoFocus:!0,ref:u,value:l,onChange:e=>o(e.target.value),onClick:e=>e.stopPropagation(),sx:{width:"100%"},onKeyDown:e=>{if("Enter"===e.key){let t=c>=0&&b[c];t&&(n(t),e.preventDefault())}else("ArrowDown"===e.key||"ArrowUp"===e.key||"PageUp"===e.key||"PageDown"==e.key)&&(v(e),e.preventDefault())},endAdornment:(0,r.jsx)(eJ.Z,{position:"end",children:(0,r.jsx)(eY.Z,{})})})," "]}),(0,r.jsxs)(eQ.Z,{children:[g&&!a&&(0,r.jsxs)(m.Z,{py:2,children:[(0,r.jsx)(Y.Z,{children:"Loading library index..."}),(0,r.jsx)(e0.Z,{})]}),b.length>0&&(0,r.jsx)(e2.OO,{style:{height:"400px",maxHeight:"100%"},data:b,ref:p,scrollerRef:e=>{e instanceof HTMLElement&&(e.addEventListener("keydown",v),x.current=()=>e.removeEventListener("keydown",v))},itemContent:(e,t)=>(0,r.jsx)(h.Z,{onClick:()=>n(t),className:(0,e3.default)(e===c&&"Mui-focusVisible"),children:t},t)}),g&&!b.length&&(0,r.jsx)(Y.Z,{color:"gray",children:"No libraries found"}),!g&&(0,r.jsx)(Y.Z,{color:"gray",children:"Type some text to search for libraries"})]}),!g&&(0,r.jsx)(f.Z,{startIcon:(0,r.jsx)(eX.Z,{}),onClick:i,children:"Upload a library"})]})}),e4="wokwi:";var e8=n(89620),e7=n(26385),e9=n(4678),te=n(95396);let tt=(0,k.Pi)(e=>{let{library:t,onRemoveLibrary:n}=e,[i,a]=t.split("@"),s=null==a?void 0:a.startsWith(e4),l=i+".zip",o=null==a?void 0:a.substring(e4.length),c="https://wokwi.com/storage/libs/".concat(o,"/").concat(l);return(0,r.jsxs)(ej.ZP,{secondaryAction:(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)("a",{href:c,download:!0,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(e8.Z,{})})}),!s&&(0,r.jsx)(j.Z,{href:function(e){let t=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/\W+/g,"-").toLowerCase();return"https://www.arduinolibraries.info/libraries/".concat(t)}(i),target:"_blank",children:(0,r.jsx)(e7.Z,{})}),(0,r.jsx)(j.Z,{onClick:n,children:(0,r.jsx)(ew.Z,{})})]}),children:[(0,r.jsx)(ef.Z,{children:(0,r.jsx)(te.Z,{children:(0,r.jsx)(e9.Z,{})})}),(0,r.jsx)(p.Z,{primary:s?l:i})]})});var tn=n(41390);let tr=(0,k.Pi)(e=>{let{uploadState:t}=e,{translate:n}=(0,I.q)("project.libManager.uploadDialog"),i=()=>t.abort();return(0,r.jsxs)(X.Z,{open:t.uploading,onClose:i,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,r.jsx)(J.Z,{id:"form-dialog-title",children:n("title","Uploading library...")}),(0,r.jsx)($.Z,{children:(0,r.jsx)(tn.y,{value:100*t.progress})}),(0,r.jsx)(K.Z,{children:(0,r.jsx)(f.Z,{onClick:i,children:n("cancelButton","Cancel")})})]})});var ti=n(75766);class ta{async startUpload(e,t){this.uploading=!0,this.abortController=new AbortController;let n=await (0,F.jI)(e,t,{abortSignal:this.abortController.signal,onProgress:e=>this.updateProgress(e.loaded/e.total)}),r=this.abortController.signal.aborted;return(this.finishUpload(),r)?null:null!=n?n:null}updateProgress(e){this.progress=e}finishUpload(){this.uploading=!1,this.abortController=void 0}abort(){var e;this.uploading=!1,null===(e=this.abortController)||void 0===e||e.abort()}constructor(){(0,ti._)(this,"uploading",!1),(0,ti._)(this,"progress",0),(0,ti._)(this,"abortController",void 0),(0,eE.ky)(this)}}let ts=(0,k.Pi)(()=>{var e,t;let n=(0,ey.P)(),i=(0,ep.a)(),a=(0,P.useRef)(null),[s,l]=(0,P.useState)(!1),[o,c]=(0,P.useState)(!1),[d]=(0,P.useState)(new ta),u=Array.from((0,eV.h)(null!==(t=null===(e=n.findFile(eq.vW))||void 0===e?void 0:e.content)&&void 0!==t?t:"")),h=e=>{n.libraryManager.addLibrary(e),l(!1)},x=e=>{n.libraryManager.removeLibrary(e)},g=async()=>{if(!i.club){c(!0);return}let{files:e}=await (0,ek.aE)({directory:!0}),t=Array.from(e).filter(F.kn);if(!t.length){alert("Invalid library: no source files (.c, .cpp, .h) found!");return}let n=await d.startUpload(i,t);n&&(x(n.libraryName),h("".concat(n.libraryName,"@").concat(e4).concat(n.fileId)))};return(0,r.jsxs)(m.Z,{display:"flex",flexDirection:"column",flex:1,height:0,position:"relative",children:[(0,r.jsx)(tr,{uploadState:d}),(0,r.jsx)(eZ,{show:o,onHide:()=>c(!1),featureName:"libman"}),(0,r.jsxs)(m.Z,{p:1,children:[(0,r.jsx)(Y.Z,{variant:"h5",component:"h2",children:"Project Libraries"}),(0,r.jsx)(b.Z,{title:"Add a new library",children:(0,r.jsx)(eA.Z,{color:"primary",size:"medium",ref:a,onClick:()=>l(!0),sx:{position:"absolute",top:16,right:16,zIndex:10},children:(0,r.jsx)(eU.Z,{})})}),(0,r.jsx)(eH.ZP,{open:s,anchorEl:a.current,onClose:()=>l(!1),onClick:()=>l(!1),onKeyDown:e=>{"Enter"===e.key&&(l(!1),e.stopPropagation())},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,r.jsx)(e5,{onAddLibrary:h,onUploadLibrary:g})})]}),(0,r.jsxs)(eb.Z,{sx:{flex:1,bgcolor:"background.paper",overflow:"auto"},"aria-labelledby":"nested-list-subheader",subheader:(0,r.jsx)(eG.Z,{component:"div",id:"nested-list-subheader",children:"Installed Libraries"}),children:[!u.length&&(0,r.jsx)(ej.ZP,{children:(0,r.jsx)(p.Z,{children:"No libraries installed."})}),u.map(e=>(0,r.jsx)(tt,{library:e,onRemoveLibrary:()=>x(e.split("@")[0])},e))]})]})});var tl=n(87356),to=n(9880),tc=n(35046),td=n(76785),tu=n(71788),th=n(53461),tm=n(65850),tp=n(11033),tx=n.n(tp);function tg(e){let t=[],{items:n}=e;for(let e=0;e<4;e++)e<n.length?t.push((0,tu.MS)(n[e])):t.push("        ");return e.empty&&(t[0]="<EMPTY> "),t.join(" ")}let tf=(0,k.Pi)(()=>{let[e,t]=(0,P.useState)(0),[n,i]=(0,P.useState)(0),[,a]=(0,P.useState)(0),s=(0,P.useContext)(tm.D),l=s.tempRunner,o=l.cpu,c=l.pioRunners[e],{instructions:d,machines:u}=o.pio[e],h=u[n],m=h.pc,p=(0,P.useMemo)(()=>(0,td.C)(d,(0,td.k)(h.pinCtrl)),[d,h]),x=function(){let[,e]=(0,P.useState)(0);return(0,P.useCallback)(()=>{e(e=>e+1)},[])}();(0,P.useEffect)(()=>{let e=setInterval(()=>{a(h.cycles)},100);return()=>clearInterval(e)},[h]);let g=()=>{o.pio[e].step(),s.forceUpdate(),a(h.cycles)},b=(0,P.useMemo)(()=>{if(!h.enabled)return"STOP";if(!h.waiting)return"RUN";let e=h.waitPolarity?"1":"0";switch(h.waitType){case 1:return"WAIT ".concat(e," PIN ").concat(h.waitIndex);case 2:return"WAIT RXFIFO";case 3:case 5:return"WAIT TXFIFO";case 4:return"WAIT ".concat(e," IRQ ").concat(h.waitIndex);default:return""}},[h.waitType,h.waitPolarity,h.waitIndex,h.waiting,h.enabled]);return(0,r.jsxs)("div",{className:tx().debugger,onKeyPress:e=>{"n"===e.key.toLowerCase()&&(g(),e.preventDefault())},children:[(0,r.jsxs)("div",{children:["Wokwi PIO Debugger"," ",(0,r.jsxs)(z.Z,{size:"small",children:[(0,r.jsx)(f.Z,{onClick:()=>{s.paused?s.resume():s.pause()},children:s.paused?(0,r.jsx)(tl.Z,{}):(0,r.jsx)(to.Z,{})}),(0,r.jsx)(f.Z,{disabled:!s.running||!s.paused,children:(0,r.jsx)(tc.Z,{onClick:g})})]})," ","PIO:"," ",(0,r.jsxs)(z.Z,{size:"small",children:[(0,r.jsx)(f.Z,{onClick:()=>t(0),variant:0===e?"contained":"outlined",children:"0"}),(0,r.jsx)(f.Z,{onClick:()=>t(1),variant:1===e?"contained":"outlined",children:"1"})]}),"Machine:",(0,r.jsxs)(z.Z,{size:"small",children:[(0,r.jsx)(f.Z,{onClick:()=>i(0),variant:0===n?"contained":"outlined",children:"0"}),(0,r.jsx)(f.Z,{onClick:()=>i(1),variant:1===n?"contained":"outlined",children:"1"}),(0,r.jsx)(f.Z,{onClick:()=>i(2),variant:2===n?"contained":"outlined",children:"2"}),(0,r.jsx)(f.Z,{onClick:()=>i(3),variant:3===n?"contained":"outlined",children:"3"})]})]}),(0,r.jsx)("div",{className:tx().listing,children:p.map(e=>(0,r.jsxs)("pre",{className:(0,e3.default)(e.address===m&&tx().current),children:[(0,r.jsx)("input",{title:"Breakpoint","aria-label":"Breakpoint",type:"checkbox",checked:!!(c.breakpoints&1<<e.address),className:(0,e3.default)(tx().breakpoint),onChange:()=>{c.breakpoints^=1<<e.address,x()}}),(0,r.jsx)("span",{className:tx().lineNumber,children:(0,th.Gt)(e.address,2," ")}),(0,r.jsx)("span",{children:e.text})]},e.address))}),(0,r.jsxs)("div",{className:tx().registers,children:["Registers: X ",(0,tu.MS)(h.x)," Y ",(0,tu.MS)(h.y)," ISR ",(0,tu.MS)(h.inputShiftReg)," [",(0,r.jsx)("span",{children:(0,th.Gt)(h.inputShiftCount,2," ")}),"] OSR"," ",(0,tu.MS)(h.outputShiftReg)," [",(0,r.jsx)("span",{children:(0,th.Gt)(h.outputShiftCount,2," ")}),"] CYCLES ",(0,r.jsx)("span",{children:(0,th.Gt)(h.cycles,8," ")})," ",b,(0,r.jsx)("br",{}),"RX: ",(0,r.jsx)("span",{className:tx().fifo,children:tg(h.rxFIFO)}),"TX: ",(0,r.jsx)("span",{className:tx().fifo,children:tg(h.txFIFO)})]})]})});var tb=n(2340),tj=n(16671);class tv{get currentItemIndex(){return this._currentItemIndex}get running(){return this._running}get failed(){return this._failed}get success(){return!this._failed&&!this._running}async sleep(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];await new Promise(n=>{this.sleepDoneCallback=n,this.sleepEvent.schedule(e),t&&this.sim.resume()})}async serialReadLine(e){if(0===this.serialBuffer.length){let t=new Promise(e=>{this.serialReadDone=e,this.sim.resume()});await (e?Promise.race([t,e]):t),this.serialReadDone=()=>{}}return this.serialBuffer.shift()}fail(e){this._failed=!0,this._running=!1;let t=this.items[this._currentItemIndex];t.status="error",t.error=e}async step(){let e=this.items[this._currentItemIndex];if(!e){this._running=!1;return}switch(e.status="running",e.type){case"wait-serial":let t=e.timeout?this.sleep(1e6*e.timeout,!1):void 0,n=await this.serialReadLine(t);for(;(null==n?void 0:n.trim())!==e.text;){if(!n){this.fail("Timed out after ".concat(e.timeout," ms"));break}n=await this.serialReadLine(t)}break;case"press-button":let r=this.diagram.parts.find(t=>t.id===e.partId);if(!r){this.fail("Part ".concat(e.partId," not found"));return}r.setFloatVar("pressed",1),await this.sleep(1e6*e.duration),r.setFloatVar("pressed",0);break;case"set-control":let i=this.diagram.parts.find(t=>t.id===e.partId);if(!i){this.fail("Part ".concat(e.partId," not found"));return}i.setFloatVar(e.control,e.value);break;case"delay":await this.sleep(1e6*e.duration)}this.running&&(e.status="success",this._currentItemIndex++,this.step())}constructor(e,t,n){for(let r of((0,ti._)(this,"sim",void 0),(0,ti._)(this,"diagram",void 0),(0,ti._)(this,"items",void 0),(0,ti._)(this,"_currentItemIndex",void 0),(0,ti._)(this,"_running",void 0),(0,ti._)(this,"_failed",void 0),(0,ti._)(this,"sleepEvent",void 0),(0,ti._)(this,"sleepDoneCallback",void 0),(0,ti._)(this,"serialLine",void 0),(0,ti._)(this,"serialBuffer",void 0),(0,ti._)(this,"serialReadDone",void 0),this.sim=e,this.diagram=t,this.items=n,this._currentItemIndex=0,this._running=!0,this._failed=!1,this.sleepDoneCallback=()=>{},this.serialLine="",this.serialBuffer=[],this.serialReadDone=()=>{},(0,eE.ky)(this),n))r.status=void 0,r.error=void 0;this.sleepEvent=this.sim.tempRunner.createEvent(()=>{this.sim.pause(),this.sleepDoneCallback()}),this.sim.serialRx.subscribe(e=>{for(let t of e)10===t?(this.serialBuffer.push(this.serialLine),this.serialLine="",this.serialReadDone()):this.serialLine+=String.fromCharCode(t)}),this.step()}}var tk=n(11261),ty=n(7133),tZ=n(49972),tw=n(48913);let tC=(0,k.Pi)(e=>{let{items:t,diagram:n}=e,[i,a]=(0,P.useState)(!1),s=(0,P.useRef)(null);function l(e){t.push(e),a(!1)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tk.Z,{ref:s,fontSize:"large",onClick:()=>a(!0),sx:{marginX:1,"&:hover":{color:"white"},cursor:"pointer"}}),(0,r.jsxs)(B.Z,{anchorEl:s.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:i,onClose:()=>a(!1),children:[(0,r.jsxs)(h.Z,{onClick:()=>{var e;let t=n.parts.find(e=>"wokwi-pushbutton"===e.type);l({type:"press-button",partId:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"btn1",duration:100})},children:[(0,r.jsx)(ef.Z,{children:(0,r.jsx)(ty.Z,{})}),(0,r.jsx)(p.Z,{children:"Interaction"})]}),(0,r.jsxs)(h.Z,{onClick:()=>l({type:"delay",duration:1e3}),children:[(0,r.jsx)(ef.Z,{children:(0,r.jsx)(tZ.Z,{})}),(0,r.jsx)(p.Z,{children:"Delay"})]}),(0,r.jsxs)(h.Z,{onClick:()=>{l({type:"wait-serial",text:"Serial output",timeout:1e3})},children:[(0,r.jsx)(ef.Z,{children:(0,r.jsx)(tw.Z,{})}),(0,r.jsx)(p.Z,{children:"Serial"})]})]})]})}),t_=(0,k.Pi)(e=>{let{index:t,item:n,onDelete:i}=e,a="success"===n.status?"green":"error"===n.status?"#800":"#333";return(0,r.jsxs)(q.Z,{sx:{width:250,border:"solid white 1px","&:hover .buttons":{opacity:1}},mb:2,position:"relative",children:[(0,r.jsxs)(q.Z,{sx:{background:a},p:1,direction:"row",children:[(0,r.jsxs)(Y.Z,{flex:"1",children:[t,". ",n.type]}),(0,r.jsxs)(q.Z,{className:"buttons",direction:"row",sx:{opacity:0,transition:"opacity 0.2s","&:hover":{opacity:1}},children:[(0,r.jsx)(j.Z,{size:"small",onClick:()=>{if("delay"===n.type){let e=prompt("Enter delay in milliseconds",n.duration.toString());e&&(n.duration=parseInt(e,10))}if("wait-serial"===n.type){let e=prompt("Enter expected serial text",n.text);e&&(n.text=e)}},children:(0,r.jsx)(u.Z,{})}),(0,r.jsx)(j.Z,{size:"small",onClick:()=>i(t),children:(0,r.jsx)(ew.Z,{})})]}),"running"===n.status&&(0,r.jsx)(e_.Z,{size:24})]}),(0,r.jsxs)(q.Z,{flex:1,sx:{minHeight:100},p:1,justifyContent:"center",children:[(0,r.jsx)(Y.Z,{children:n.text?'"'.concat(n.text,'"'):"delay"===n.type?"".concat(n.duration," ms"):""}),n.error&&(0,r.jsx)(Y.Z,{color:"error",children:n.error})]})]})}),tS=eE.LO.array([{type:"wait-serial",text:"Pushbutton Counter",timeout:1e3},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"press-button",partId:"btn1",duration:100},{type:"delay",duration:500},{type:"wait-serial",text:"Button pressed 3 times",timeout:500}]),tP=(0,k.Pi)(e=>{let{}=e,t=(0,P.useContext)(tm.D),[n,i]=(0,P.useState)(null),a=(0,ey.P)(),s=(0,ep.a)(),l=async()=>{await t.start({files:a.files,chips:a.chips,binaryFiles:a.binaryFiles,diagram:a.diagram,sdCardFiles:a.sdCardFiles,projectId:a.id,tempProjectId:a.tempId,userId:s.id,autoPause:!0}),t.paused&&i(new tv(t,a.diagram,tS))};return(0,r.jsxs)(q.Z,{maxHeight:"100%",children:[(0,r.jsx)(q.Z,{direction:"row",p:1,px:2,children:(0,r.jsx)(f.Z,{variant:"contained",onClick:l,disabled:null==n?void 0:n.running,children:"Run"})}),(0,r.jsxs)(q.Z,{direction:"row",padding:2,flexWrap:"wrap",flex:"1",overflow:"auto",alignItems:"center",children:[tS.map((e,t)=>(0,r.jsxs)(q.Z,{direction:"row",alignItems:"center",children:[(0,r.jsx)(t_,{index:t+1,item:e,onDelete:e=>{tS.splice(e-1,1)}},t),t<tS.length-1&&(0,r.jsx)(tb.Z,{fontSize:"medium",sx:{marginX:1}})]},t)),!(null==n?void 0:n.running)&&(0,r.jsx)(tC,{diagram:a.diagram,items:tS}),(null==n?void 0:n.success)&&(0,r.jsx)(tj.Z,{sx:{color:"#0f0",fontSize:128,marginLeft:6},onClick:()=>{for(let e of tS)e.status=void 0,e.error=void 0;i(null)}})]})]})});async function tI(e,t,n){e.removeFile(F.rp);let{hex:r,hexError:i}=await t.build({...n,files:e.files,diagram:e.diagram||eL.S0.create(),listing:!0});if(i){console.error(i),alert("Error connecting to build server: "+i);return}if(!(null==r?void 0:r.listing)){console.log(null==r?void 0:r.stderr),alert("Build failed!");return}let a=e.findFile(F.rp);a?(a.update(r.listing),a.setPristine()):e.addFile(F.rp,r.listing)}var tL=n(96682),tE=n(49086),tN=n(8107),tD=n.n(tN),tF=n(41324),tR=n(45425),tT=n.n(tR);let tz=(0,k.Pi)(()=>{let e=(0,P.useContext)(tm.D);return e.running&&e.debuggerEnabled?(0,r.jsxs)("div",{className:tT().debugBar,children:[e.paused?(0,r.jsx)(b.Z,{title:"Resume program",children:(0,r.jsx)("i",{className:(0,e3.default)(tT().button,"codicon codicon-debug-continue"),onClick:()=>e.resume()})}):(0,r.jsx)(b.Z,{title:"Pause program",children:(0,r.jsx)("i",{className:(0,e3.default)(tT().button,"codicon codicon-debug-pause"),onClick:()=>e.pause()})}),(0,r.jsx)(b.Z,{title:"Step over",children:(0,r.jsx)("i",{className:(0,e3.default)(tT().button,!e.paused&&tT().disabled,"codicon codicon-debug-step-over"),onClick:()=>e.stepOver()})}),(0,r.jsx)(b.Z,{title:"Step into",children:(0,r.jsx)("i",{className:(0,e3.default)(tT().button,!e.paused&&tT().disabled,"codicon codicon-debug-step-into"),onClick:()=>e.stepInto()})}),(0,r.jsx)(b.Z,{title:"Step out (run until return)",children:(0,r.jsx)("i",{className:(0,e3.default)(tT().button,!e.paused&&tT().disabled,"codicon codicon-debug-step-out"),onClick:()=>e.stepOut()})})]}):null});var tB=n(2308),tW=n.n(tB),tM=n(43324),tO=n(62510),tU=n(58521),tA=n(94987);let tH=(0,tF.N)().dark,tG=(0,k.Pi)(e=>{var t,n;let{diagram:i,readme:a,files:s}=e,[l,o]=(0,P.useState)(0),{translate:c}=(0,I.q)("simulator.tabs");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(tA.mQ,{children:[(0,r.jsx)(tA.OK,{onClick:()=>o(0),active:0===l,children:c("simulation","Simulation")}),(null==a?void 0:null===(t=a.content.trim())||void 0===t?void 0:t.length)?(0,r.jsx)(tA.OK,{onClick:()=>o(1),active:1===l,children:c("description","Description")}):null]}),0===l&&i&&(0,r.jsx)(tU.u,{diagram:i,files:s}),1===l&&(0,r.jsx)("section",{className:(0,e3.default)("markdown-body",tH&&"dark"),children:(0,r.jsx)(tM.D,{remarkPlugins:[tO.Z],children:null!==(n=null==a?void 0:a.content)&&void 0!==n?n:""})}),(0,r.jsx)("style",{children:"\n        .markdown-body {\n          background: #eee;\n          color: black;\n          overflow: auto; /* Enable scrolling */\n          padding: 1.5em;\n          min-height: 100%;\n        }\n        .markdown-body.dark {\n          background: #111;\n          color: inherit;\n        }\n        .markdown-body.dark a {\n          color: #88f;\n        }\n        .markdown-body.dark pre {\n          background: #333;\n        }\n\n        .markdown-body::-webkit-scrollbar {\n          height: 16px;\n          width: 16px;\n        }\n\n        .markdown-body::-webkit-scrollbar-thumb,\n        .markdown-body::-webkit-scrollbar-track {\n          border: 4px solid transparent;\n          border-radius: 8px;\n          background-clip: padding-box;\n        }\n\n        .markdown-body::-webkit-scrollbar-thumb {\n          min-height: 40px;\n        }\n        .markdown-body.dark::-webkit-scrollbar-thumb {\n          background-color: #3d3a3a;\n        }\n\n        .markdown-body::-webkit-scrollbar-track {\n          margin-bottom: 8px;\n        }\n        .markdown-body.dark::-webkit-scrollbar-track {\n          background-color: #2a2a2a;\n        }\n\n        .markdown-body.dark table {\n          color: black;\n        }\n      "})]})}),tV=(0,k.Pi)(e=>{let{project:t,files:n}=e,i=(0,P.useContext)(A.r),{ref:a,width:s=1,height:l=1}=tD()(),[o,c]=(0,P.useState)(""),d=(0,tL.Z)();(0,P.useEffect)(()=>{"diagram"===(0,tF.N)().view&&c("diagram")},[]),(0,P.useEffect)(()=>{var e;null===(e=i.doLayout)||void 0===e||e.call(i)},[s,l,i]);let u=t.files.some(e=>["readme","diagram"].includes(e.type)),h=()=>(0,r.jsxs)("div",{className:tW().editor,ref:a,children:[(0,r.jsx)(tz,{}),(0,r.jsx)(A.p,{tabs:n,architecture:t.architecture})]}),m=()=>(0,r.jsx)("div",{className:tW().preview,children:(0,r.jsx)(tG,{diagram:t.diagram,readme:t.readme,files:t.files})});return(0,r.jsx)("div",{className:tW().container,children:"diagram"===o?(0,r.jsx)("div",{className:tW().diagramOnly,children:m()}):u?(0,r.jsxs)(tE.o,{split:"vertical",className:tW().splitPane,resizerOptions:{hoverCss:{background:d.palette.primary.light,marginLeft:-2,width:4}},collapse:{beforeToggleButton:(0,r.jsx)("button",{children:"➡"}),afterToggleButton:(0,r.jsx)("button",{children:"⬅"}),overlayCss:{backgroundColor:"black"},collapseDirection:"right",buttonTransition:"zoom",buttonPositionOffset:-20,collapsedSize:10,collapseTransitionTimeout:350},children:[h(),m()]}):h()})});var tq=n(7743),tY=n(67842),tX=n(4342),tK=n(44873),t$=n.n(tK);let tJ=(0,tX.ZP)(tq.Z)({minHeight:24,background:"#333"}),tQ=(0,tX.ZP)(tY.Z)(e=>{let{theme:t}=e;return{textTransform:"none",minHeight:24,paddingTop:t.spacing(1),paddingBottom:t.spacing(1),"&.Mui-selected":{background:t.palette.secondary.dark,color:t.palette.primary.contrastText}}});function t0(e){let{children:t,value:n,index:i,...a}=e;return(0,r.jsx)("div",{className:t$().tab,role:"tabpanel",hidden:n!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i),...a,children:n===i&&t})}let t1=(0,k.Pi)(e=>{let{project:t,files:n}=e,{translate:i}=(0,I.q)("simulator.tabs"),a=(0,P.useContext)(A.r),{ref:s,width:l=1,height:o=1}=tD()(),[c,d]=(0,P.useState)(0);return(0,P.useEffect)(()=>{var e;null===(e=a.doLayout)||void 0===e||e.call(a)},[l,o,a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(tJ,{value:c,onChange:(e,t)=>{d(t)},variant:"fullWidth",indicatorColor:"secondary",children:[(0,r.jsx)(tQ,{label:i("simulation","Simulation")}),(0,r.jsx)(tQ,{label:i("code","Code")})]}),(0,r.jsxs)("div",{className:t$().container,children:[(0,r.jsx)(t0,{value:c,index:0,children:(0,r.jsx)("div",{className:t$().diagram,children:t.diagram&&(0,r.jsx)(tU.u,{diagram:t.diagram,files:t.files})})}),(0,r.jsx)(t0,{value:c,index:1,children:(0,r.jsx)("div",{className:t$().editor,ref:s,children:(0,r.jsx)(A.p,{tabs:n,architecture:t.architecture})})})]})]})}),t2={name:"Library Manager",content:"",customComponent:(0,r.jsx)(ts,{})},t3={name:"Test Scenario Editor",content:"",customComponent:(0,r.jsx)(tP,{})},t6=(0,k.Pi)(e=>{let{project:t,hex:i}=e,a=(0,P.useContext)(tm.D),s=(0,P.useContext)(A.r),l=(0,P.useContext)(eO.A),[o,c]=(0,P.useState)(s.ready),d=a.running&&a.showPioDebugger,u=(0,ep.a)(),h=(0,ex.$)(),m=function(){let[e,t]=(0,P.useState)("large");return(0,P.useEffect)(()=>{let e=window.matchMedia("(max-width: 640px)"),n=window.matchMedia("(max-width: 1007px)"),r=()=>{e.matches?t("small"):n.matches?t("medium"):t("large")};return"addEventListener"in e?(e.addEventListener("change",r),n.addEventListener("change",r)):(e.addListener(r),n.addListener(r)),r(),()=>{"removeEventListener"in e?(e.removeEventListener("change",r),n.removeEventListener("change",r)):(e.removeListener(r),n.removeListener(r))}},[]),e}(),p=function(e){var t;let n=(0,P.useMemo)(()=>({name:"SD Card",content:"",customComponent:(0,r.jsx)(eI,{})}),[]);return n.modified=e.sdCardFiles.some(e=>e.modified),(null===(t=e.diagram)||void 0===t?void 0:t.parts.find(e=>"wokwi-microsd-card"===e.type))?[n]:[]}(t);(0,P.useEffect)(()=>{(null==i?void 0:i.cacheKey)&&eF.I.put(i.cacheKey,i)}),function(e){let t="Leave page? Changes you made may not be saved.";(0,P.useEffect)(()=>{let n=n=>{if(S().asPath!==n&&e()&&!confirm(t))throw S().events.emit("routeChangeError"),S().replace(S().asPath,S().asPath,{shallow:!0}),"Abort route change. Please ignore this error."},r=n=>{if(e())return n.preventDefault(),n.returnValue=t,t};return window.addEventListener("beforeunload",r),S().events.on("routeChangeStart",n),()=>{window.removeEventListener("beforeunload",r),S().events.off("routeChangeStart",n)}},[e])}((0,P.useCallback)(()=>t.modified,[t]));let x="_scenarios.json",g=[...t.files.filter(e=>e.name!==x),...p,..."arduino"===t.projectType?[t2]:[],...t.files.find(e=>e.name===x)?[t3]:[],...d?[{name:"PIO \uD83D\uDC1B",content:"",customComponent:(0,r.jsx)(tf,{})}]:[],...a.debuggerFiles],f={userId:u.id,projectId:t.id,tempProjectId:t.tempId,hp:u.club};(0,P.useEffect)(()=>{t&&o&&t.diagram&&a.start({userId:u.id,projectId:t.id,files:t.files,diagram:t.diagram,preload:!0})},[t,o,a,u.id]),s.onEditorReady=()=>{c(!0)},s.onRunCode=()=>{t.diagram&&a.start({...f,files:t.files,diagram:t.diagram})};let b=e=>{t.diagram&&a.start({...f,files:t.files,diagram:t.diagram,autoPause:!0,elf:!0,debug:e})};return s.commands.startPaused={name:"Start program paused",callback:b},s.commands.startPaused={name:"Profile program",callback:()=>{t.diagram&&a.start({...f,files:t.files,diagram:t.diagram,elf:!0,profile:!0})}},s.commands.assemblyListing={name:"View Compiled Assembly Code Listing",keybindings:e=>{let{KeyMod:t,KeyCode:n}=e;return[t.CtrlCmd|n.Backquote]},callback:()=>tI(t,a,f)},s.commands.openControlSocket={name:"Open Debug Web Socket",callback:()=>{let e=prompt("Web socket URL?","ws://localhost:2442");e&&function(e,t,n){let r=new WebSocket(e),i=[],a=!1,s=!1,l=e=>{r.send(JSON.stringify(e))};r.addEventListener("open",()=>{l({cmd:"aloha",protocol:"wokwi",version:1}),i.push((0,eE.N7)(t,"status",e=>{l({cmd:"statusChange",status:function(e){switch(e){case eN.G.Running:return"start";case eN.G.Stopped:return"stop";case eN.G.Paused:return"pause"}}(e.newValue)}),e.newValue===eN.G.Paused&&a&&l({cmd:"gdbResponse",response:t.breakpoint?eD.$_:eD.ZY})},!1))}),r.addEventListener("error",()=>{alert("Web socket connection failed!")}),r.addEventListener("close",()=>{for(let e of i)e();console.log("[Websocket] disconnected")}),r.addEventListener("message",e=>{let r;let o=e.data;try{r=JSON.parse(o)}catch(e){console.error("[Websocket] invalid message:",o);return}switch(r.cmd){case"start":{let e=r.hex,{diagram:i}=n;if(!i){console.error("[Websocket] can't start simulation: missing diagram");return}e?t.loadHex(e,i).then(()=>{t.resume()}):t.start({files:n.files,diagram:i});break}case"pause":t.pause();break;case"resume":t.resume();break;case"stop":t.stop();break;case"gdb":{a=!0,t.debugging=!0;let e=t.gdbMessage(r.message);e&&l({cmd:"gdbResponse",response:e})}break;case"serialMonitor":if(!s){var c,d;i.push(null!==(d=null===(c=t.serialRx)||void 0===c?void 0:c.subscribe(e=>{for(let t of e)l({cmd:"serialData",value:t})}))&&void 0!==d?d:()=>0),s=!0}}})}(e,a,t)}},s.commands.startGDB={name:"Start Web GDB Session (debug build)",callback:()=>{window.open("https://wokwi.github.io/web-gdb/"),b(!0),window.addEventListener("message",e=>{let t=e.data;"gdbInit"===t.type&&(console.log("GDB Attached!"),function(e,t){let n=(0,eE.N7)(e,"status",n=>{n.newValue!==eN.G.Paused||e.restarting||t.postMessage({type:"gdb",data:e.breakpoint?eD.$_:eD.ZY})},!1);e.debugging=!0,t.onmessage=n=>{let r=n.data;switch(r.type){case"break":e.pause();break;case"downloadElf":e.buildResult&&t.postMessage({type:"elf",data:e.buildResult.elf});break;case"downloadSources":var i;(null===(i=e.buildResult)||void 0===i?void 0:i.debugSources)&&t.postMessage({type:"sources",data:(0,eE.ZN)(e.buildResult.debugSources)});break;case"gdb":{let n=e.gdbMessage(r.data);n&&t.postMessage({type:"gdb",data:n})}}},t.onmessageerror=()=>{e.debugging=!1,n()}}(a,t.data))})}},s.commands.downloadHex={name:"Download Compiled Firmware",callback:async()=>{let{hex:e,hexError:n}=await a.build({...f,files:t.files,diagram:t.diagram||eL.S0.create()});if(n)alert(n);else{var r,i,s,l;if(null===(i=t.diagram)||void 0===i?void 0:null===(r=i.board)||void 0===r?void 0:r.mcuType.startsWith("esp32")){let n=t.diagram.board.mcuType;(0,eM.Sv)("firmware-".concat(n,".bin"),(0,eB.Xs)(null!==(s=null==e?void 0:e.hex)&&void 0!==s?s:""),"application/octet-stream")}else{if((null==e?void 0:e.hex)&&!(null==e?void 0:e.hex.startsWith(":"))){let t=(0,eB.Xs)(e.hex);if((0,eT.j)(t)){(0,eM.Sv)("firmware.uf2",t,"application/octet-stream");return}}(0,eM.Sv)("firmware.hex",null!==(l=null==e?void 0:e.hex)&&void 0!==l?l:"","application/octet-stream")}}}},s.commands.flash={name:"Flash firmware to device (beta)",callback:async()=>{var e,n;let r=null===(n=t.diagram)||void 0===n?void 0:null===(e=n.board)||void 0===e?void 0:e.mcuType;if(!(null==r?void 0:r.startsWith("esp32"))){alert("This feature is only available for ESP32 boards");return}let{hex:i,hexError:s}=await a.build({...f,files:t.files,diagram:t.diagram||eL.S0.create()});if(s)alert(s);else if(i){let e="".concat(i.cacheKey,"-").concat(new Date().getTime());window.open("https://flasher-esp32.apps.wokwi.com/?mcu=".concat(r,"&build=").concat(e)),window.addEventListener("message",t=>{let n=t.data,r=n.port;if("loadBinary"===n.type&&n.build===e){var a;let e=(0,eB.Xs)(null!==(a=null==i?void 0:i.hex)&&void 0!==a?a:"");r.postMessage({type:"flash",binaries:[{offset:65536,data:e.buffer}]},{transfer:[e.buffer]})}})}}},s.commands.downloadUF2={name:"Download UF2 Binary",callback:async()=>{let e=n.e(1820).then(n.bind(n,51820)),{hex:r,hexError:i}=await a.build({...f,files:t.files,diagram:t.diagram||eL.S0.create()}),{hexToUF2:s}=await e;if(i)alert(i);else{var l;(0,eM.Sv)("firmware.uf2",s(null!==(l=null==r?void 0:r.hex)&&void 0!==l?l:""),"application/octet-stream")}}},s.commands.downloadELF={name:"Download ELF with Debugging Symbols",callback:async()=>{let{hex:e,hexError:n}=await a.build({...f,files:t.files,diagram:t.diagram||eL.S0.create(),elf:!0,debug:!0});if(n)alert(n);else{var r;(0,eM.Sv)("firmware.elf",(0,eB.Xs)(null!==(r=null==e?void 0:e.elf)&&void 0!==r?r:""),"application/octet-stream")}}},s.commands.simulateHex={name:"Load HEX File and Start Simulation...",callback:()=>{alert('This command has been renamed to "Upload Firmware and Start Simulation…"')}},s.commands.uploadFirmware={name:"Upload Firmware and Start Simulation…",callback:async()=>{let{files:e}=await (0,ek.aE)({}),n=null==e?void 0:e[0];if(!n)return;let r=n.name.toLowerCase(),i=r.endsWith(".hex"),s=await (i?(0,ek.Ve)(n):(0,ek.DT)(n));t.diagram&&a.start({...f,files:t.files,diagram:t.diagram,autoPause:r.includes("-pause."),profile:r.includes("-profile."),sideHex:s})}},s.commands.chipAPITracing={name:"Enable Chip API Tracing",callback:async()=>{(0,eR.O)()}},s.commands.loadCustomBoard={name:"Load custom board file...",callback:async()=>{let{files:e}=await (0,ek.aE)({directory:!0}),n=[...e],r=n.find(e=>"board.json"===e.name),i=n.find(e=>"board.svg"===e.name);if(!r){alert("Error: missing board.json!");return}if(!i){alert("Error: missing board.svg!");return}let[a,s]=await Promise.all([(0,ek.Ve)(r),(0,ek.Ve)(i)]);h.loadUserBoard(a,s),t.syncDiagram(),l.fit()}},s.commands.downloadPcap={name:"Download WiFi Packet Capture (PCAP) file",callback:async()=>{let{wifi:e}=a;if(!e||!e.medium.frames.length){alert("No clients connect to the virtual WiFi");return}e.medium.downloadPcap()}},s.commands.enableGateway={name:"Enable Private Wokwi IoT Gateway",callback:()=>{if(!(0,ez.Wl)(u)){alert("This feature is only available for Wokwi Club members: https://wokwi.com/club");return}let e=confirm("Enable local Wokwi IoT Gateway?");(0,ez.VE)(e)}},s.commands.enablePrivateBuild={name:"Enable private build server",callback:()=>{let e=prompt("Build server name? (empty to disable)","");if(e&&"PIAI-df68d5f0"!==e&&"localhexi"!==e){alert("Unknown build server");return}localStorage.removeItem("__buildServer"),localStorage.removeItem("__hexi"),"localhexi"===e?localStorage.setItem("__hexi","http://localhost:4055"):e&&localStorage.setItem("__buildServer",e)}},(0,eW.Uf)()&&(s.commands.loadLocalLibraries={name:"Select local Arduino libraries directory",callback:async()=>{let e=await (0,eW.Y1)();e&&(a.localLibraryDirectory=e)}}),s.commands.downloadPcap={name:"Force Save (for locked projects)",callback:async()=>{var e;null===(e=s.onSaveCode)||void 0===e||e.call(s,!0)}},"small"===m?(0,r.jsx)(t1,{project:t,files:g}):(0,r.jsx)(tV,{project:t,files:g})});var t5=n(15858),t4=n.n(t5);let t8=(0,v.Z)(h.Z)({height:48}),t7=(0,k.Pi)(e=>{let{project:t,embedMode:n}=e,[a,h]=(0,P.useState)(!1),[v,k]=(0,P.useState)(!1),[y,w]=(0,P.useState)(!1),[S,T]=(0,P.useState)(!1),[z,B]=(0,P.useState)(!1),W=(0,L.A)(),[M]=(0,P.useState)({ready:!1,embedMode:n||W.embed,commands:{}}),q=(0,P.useContext)(tm.D),Y=(0,P.useContext)(E.St),{translate:X}=(0,I.q)("project"),K=(0,_.useRouter)();(0,P.useEffect)(()=>{(0,R.f)()},[]),(0,P.useEffect)(()=>{Y.token&&t.updateFromServer(Y)},[t,Y,Y.token]);let{hatcheryEgg:$}=W;(0,P.useEffect)(()=>{$&&t.loadEgg($)},[t,$]);let J=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.locked){if(e){if(!confirm(X("confirm.saveLockedProject","Override locked project?")))return}else{alert(X("error.saveFailed","Save failed: project is locked!"));return}}if(!t.name){T(!0);return}if(!en){B(!0);return}h(!0);try{await (0,F.UI)(Y,t,!1),t.setPristine()}catch(e){alert("Project saving failed! Your changes have not been saved.")}finally{h(!1)}},Q=async e=>{h(!0);let n=t.name;try{t.setName(e);let n=await (0,F.UI)(Y,t,!0);t.changeId(n.projectId),t.changeOwner(n.owner),t.setPristine(),K.push("/projects/".concat(t.id),void 0,{shallow:!0})}catch(e){alert("Project saving failed! Your changes HAVE NOT been saved.\n\n".concat(e)),t.setName(n)}finally{h(!1)}},ee=async()=>{if(!Y.loggedIn){alert(X("error.signInToLikeProject","Please sign-in to Like this project."));return}if(!t||!t.id)return;let e=!t.userLiked;t.updateUserLike(e),t.updateHearts((await (0,F.$v)(Y,t.id,e)).hearts),(0,N.L)({action:e?"like":"unlike",category:"project",label:t.name})};M.onSaveCode=J,(0,P.useEffect)(()=>()=>{q.closeProject()},[t,q]);let et=t.id?(0,D.m)("https://wokwi.com/share/".concat(t.id),t.updated):null,en=t.owner&&t.owner===Y.id,{ownerUsername:er}=t;return(0,r.jsxs)(G._,{children:[(0,r.jsx)(Z(),{children:et&&(0,r.jsx)("link",{rel:"alternate",type:"application/json+oembed",href:et,title:"Wokwi oEmbed provider"})}),(0,r.jsx)(H.r,{children:(0,r.jsxs)("div",{className:t4().topButtons,children:[(0,r.jsxs)(O,{size:"small",onClick:()=>J(),disabled:!t.modified||a||t.locked,variant:"contained",text:(0,r.jsx)(m.Z,{component:"span",sx:{display:{xs:"none",sm:"initial"}},children:X("header.save","Save")}),startIcon:a?(0,r.jsx)(s(),{path:i.CEZ,size:1,spin:!0}):(0,r.jsx)(s(),{path:i.Tls,size:1}),children:[(0,r.jsxs)(U,{children:[(0,r.jsxs)(t8,{onClick:()=>k(!0),disabled:a,sx:{display:{xs:"block",sm:"none"}},children:[(0,r.jsx)("div",{className:t4().buttonIcon,children:(0,r.jsx)(s(),{path:i.dGe,size:1})}),X("header.share","Share")]}),(0,r.jsxs)(t8,{disabled:null==t.id,onClick:()=>B(!0),children:[(0,r.jsx)("div",{className:t4().buttonIcon,children:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(p.Z,{children:X("menu.saveACopy","Save a copy")})]})]}),en&&(0,r.jsx)(t8,{children:(0,r.jsx)(x.Z,{control:(0,r.jsx)(g.Z,{name:"lock",checkedIcon:(0,r.jsx)(o.Z,{}),icon:(0,r.jsx)(c.Z,{}),checked:t.locked,onChange:(e,n)=>{t.setLocked(n),(0,F.ty)(Y,t)}}),label:X("menu.lockProject","Lock project")})}),(0,r.jsxs)(t8,{onClick:()=>(0,R.r)(t),children:[(0,r.jsx)("div",{className:t4().buttonIcon,children:(0,r.jsx)(s(),{path:i.OGU,size:1})}),(0,r.jsx)(p.Z,{children:X("menu.downloadProjectZip","Download project ZIP")})]})]}),(0,r.jsx)(f.Z,{size:"small",className:t4().button,sx:{display:{xs:"none",sm:"flex"}},onClick:()=>k(!0),disabled:a,variant:"contained",startIcon:(0,r.jsx)(s(),{path:i.dGe,size:1}),children:X("header.share","Share")}),t.isDBProject&&(0,r.jsx)(b.Z,{title:t.userLiked?X("header.unlikeProjectTooltip","Unlike this project"):X("header.likeProjectTooltip","Like this project"),children:(0,r.jsx)(j.Z,{onClick:ee,color:t.userLiked?"primary":"default",size:"large",children:(0,r.jsx)(d.Z,{})})}),(en||er)&&(0,r.jsxs)(m.Z,{mx:1,sx:{position:"relative",lineHeight:1.2,display:{xs:"none",md:"block"}},children:[t.name," ",(0,r.jsx)(j.Z,{size:"small",sx:{position:"absolute",top:-4},onClick:()=>w(!0),children:(0,r.jsx)(u.Z,{})}),er&&(0,r.jsxs)("div",{children:["by"," ",(0,r.jsx)(C(),{href:"/makers/[maker]",as:"/makers/".concat(er),children:er})]})]})]})}),y&&(0,r.jsx)(V.i,{project:t,isOpen:y,onClose:()=>w(!1)}),(0,r.jsx)(eo,{project:t,isOpen:S,onClose:()=>T(!1),onSaveClick:Q}),(0,r.jsx)(el,{project:t,isOpen:z,onClose:()=>B(!1),onSaveCopyClick:Q}),(0,r.jsx)(em,{open:v,project:t,onClose:()=>k(!1),saving:a,onSaveProject:()=>T(!0)}),(0,r.jsx)("main",{className:t4().main,children:(0,r.jsx)(ey.x.Provider,{value:t,children:(0,r.jsx)(A.r.Provider,{value:M,children:(0,r.jsx)(t6,{project:t})})})})]})})},26209:function(e,t,n){"use strict";n.d(t,{I:function(){return W}});var r=n(85893),i=n(94309),a=n(20830),s=n(82020),l=n(99847),o=n(54729),c=n(21285),d=n(72382),u=n(9304),h=n(95396),m=n(45524),p=n(89779),x=n(90335),g=n(25798),f=n(18610),b=n(64601),j=n(66226),v=n(98969),k=n(24766),y=n(14556),Z=n(83054),w=n(54263),C=n(54902),_=n(13264),S=n(46670),P=n(41664),I=n.n(P),L=n(67294),E=n(77227),N=n(36229),D=n(34456),F=n(7054),R=n.n(F),T=n(86469);let z=(0,_.Z)("div")(e=>{let{theme:t}=e;return{background:t.palette.secondary.dark,textAlign:"center",padding:t.spacing(1),fontSize:"80%"}}),B=[{key:"en",name:"English"},...Object.entries(D.R).map(e=>{let[t,n]=e;return{key:t,name:n.name}})],W=(0,S.Pi)(e=>{let{size:t}=e,n=(0,E.a)(),[_,S]=(0,L.useState)(!1),P=(0,L.useRef)(null),[D,F]=(0,L.useState)(!1),{translate:W}=(0,N.q)("userMenu"),[M,O]=(0,L.useState)(!1),[U,A]=(0,L.useState)(!1),H=()=>{O(!1)};return(0,L.useEffect)(()=>{A(n.loggedIn),n.loggedIn&&F(!1)},[n.loggedIn]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.p,{open:D,onClose:()=>F(!1)}),U?(0,r.jsxs)(u.Z,{onClick:()=>S(!_),size:t,children:[(0,r.jsx)(h.Z,{src:n.profileImage,alt:n.displayName,ref:P,style:"small"===t?{width:30,height:30}:{}}),(0,r.jsxs)(m.Z,{anchorEl:P.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:_,onClose:()=>S(!1),children:[(0,r.jsxs)(p.ZP,{children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{src:n.profileImage,alt:n.displayName})}),(0,r.jsx)(g.Z,{primary:n.displayName,secondary:n.email})]}),n.club&&(0,r.jsx)(z,{children:"CLUB MEMBER"}),(0,r.jsx)(I(),{href:"/dashboard/projects",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(i.Z,{})}),(0,r.jsx)(g.Z,{children:W("myProjects","My projects")})]})}),(0,r.jsx)(I(),{href:"/dashboard/profile",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(a.Z,{})}),(0,r.jsx)(g.Z,{children:W("profile","Profile")})]})}),(0,r.jsx)(I(),{href:"/dashboard/ci",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(g.Z,{children:W("ciTokens","CI Tokens")})]})}),n.club?(0,r.jsx)(I(),{href:"/dashboard/subscriptions?ref=usermenu",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(g.Z,{children:W("yourSubscription","Your Subscriptions")})]})}):(0,r.jsx)(I(),{href:"/club?ref=usermenu",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(g.Z,{children:W("theClub","The Club")})]})}),(0,r.jsx)(I(),{href:"/features",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(f.Z,{component:"a",children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(j.Z,{badgeContent:n.votePowers,color:"primary",children:(0,r.jsx)(o.Z,{})})}),(0,r.jsx)(g.Z,{children:W("featureRoadmap","Feature Roadmap")})]})}),(0,r.jsxs)(f.Z,{onClick:()=>{O(!0)},children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)(g.Z,{children:W("language","Language")})]}),(0,r.jsxs)(f.Z,{onClick:()=>{n.logout()},children:[(0,r.jsx)(b.Z,{children:(0,r.jsx)(d.Z,{})}),(0,r.jsx)(g.Z,{children:W("logout","Logout")})]})]})]}):(0,r.jsx)(v.Z,{variant:"contained",color:"primary",size:t,onClick:()=>F(!0),children:(0,r.jsxs)("span",{className:R().altContent,children:[(0,r.jsx)("span",{className:R().alt1,children:W("signIn","Sign in")}),(0,r.jsx)("span",{className:R().alt2,children:W("signUp","Sign up")})]})}),(0,r.jsxs)(k.Z,{open:M,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,r.jsx)(y.Z,{id:"alert-dialog-title",children:"Choose your language"}),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(w.Z,{children:B.map(e=>(0,r.jsx)(p.ZP,{disableGutters:!0,button:!0,onClick:()=>{n.setLangId(e.key),H()},children:e.name},e.key))})}),(0,r.jsx)(C.Z,{children:(0,r.jsx)(v.Z,{onClick:H,autoFocus:!0,children:"close"})})]})]})})},43916:function(e,t,n){"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return"https://wokwi.com/api/oembed?url=".concat(encodeURIComponent(e),"&t=").concat(t.getTime(),"}")}n.d(t,{m:function(){return r}})},76785:function(e,t,n){"use strict";function r(e){return{sidesetCount:e>>29&7,sideEn:!!(1073741824&e)}}function i(e){let{sidesetCount:t,sideEn:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(0),i=[],a=[];for(let r=0;r<e.length;r++){let s=e[r],l=s>>8&31,o=l&(1<<5-t)-1,c=function(e){let t=255&e;switch(e>>>13){case 0:{let e={0:"",1:"!x",2:"x--",3:"!y",4:"y--",5:"x!=y",6:"pin",7:"!osre"}[t>>5];return"jmp ".concat(e?e+", ":"").concat(31&t)}case 1:{let e={0:"gpio",1:"pin",2:"irq",3:"reserved"}[t>>5&3];return"wait ".concat(128&t?"1":"0"," ").concat(e," ").concat("irq"===e?7&t:31&t).concat("irq"===e&&16&t?" rel":"")}case 2:return"in ".concat({0:"pins",1:"x",2:"y",3:"null",4:"reserved",5:"reserved",6:"isr",7:"osr"}[t>>5],", ").concat(31&t||32);case 3:return"out ".concat({0:"pins",1:"x",2:"y",3:"null",4:"pindirs",5:"pc",6:"isr",7:"exec"}[t>>5],", ").concat(31&t||32);case 4:{let e=32&t?"":" noblock",n=64&t;if(128&t)return"pull".concat(n?" ifempty":"").concat(e);return"push".concat(n?" iffull":"").concat(e)}case 5:{let e={0:"pins",1:"x",2:"y",3:"null",4:"reserved",5:"status",6:"isr",7:"osr"}[7&t],n=t>>3&3,r={0:"pins",1:"x",2:"y",3:"reserved",4:"exec",5:"pc",6:"isr",7:"osr"}[t>>5&7];if(e===r&&0===n)return"nop";return"mov ".concat(r,", ").concat(0===n?"":1===n?"~":2===n?"::":"").concat(e)}case 6:if(128&t)break;return"irq".concat(64&t?" clear":"").concat(32&t?" wait":""," ").concat(7&t).concat(16&t?" rel":"");case 7:return"set ".concat({0:"pins",1:"x",2:"y",4:"pindirs"}[t>>5],", ").concat(31&t)}return".data ".concat(e.toString(16))}(s);if(t&&(!n||16&l)){let e=l>>5-t;n&&(e&=(1<<t-1)-1),c+=" .side(".concat(e,")")}o&&(c+=" [".concat(o,"]")),i[r]={address:r,text:c,label:!1},s>>13==0&&a.push(31&s)}for(let e of a)i[e]&&(i[e].label=!0);return i}n.d(t,{C:function(){return i},k:function(){return r}})},50119:function(e,t,n){"use strict";n.d(t,{G:function(){return s},j:function(){return a}});var r=n(16686);let i="wokwidbg;v1;";function a(e){return e.length>=512&&(0,r.ul)(new Uint8Array(e.buffer.slice(0,512)))}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=n+e.length,l=!1;for(let o=0;o<t.length;o+=512){let{flashAddress:c,payload:d,flags:u}=(0,r.tj)(t.subarray(o,o+512));if(c>=n&&c<s&&(e.set(d,c-n),l=!0),u&r.Bt.notMainFlash){let e=String.fromCharCode.apply(null,Array.from(d));e.startsWith(i)&&a.push(e.substring(i.length))}}return l}},53461:function(e,t,n){"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return function(e,t,n){for(;e.length<t;)e=n+e;return e}(e.toString(),t,n)}n.d(t,{Gt:function(){return r}})},45425:function(e){e.exports={debugBar:"debugger-toolbar_debugBar__unQYJ",button:"debugger-toolbar_button__5kN9D",disabled:"debugger-toolbar_disabled__sMvP0",stopButton:"debugger-toolbar_stopButton__E6szZ"}},63570:function(e){e.exports={toolbar:"header-small_toolbar__yvrzx",logo:"header-small_logo__fLyJP",menu:"header-small_menu__hiyiT",spacer:"header-small_spacer___h_xx"}},11033:function(e){e.exports={debugger:"pio-debugger_debugger__2dWGi",current:"pio-debugger_current__Eqs2r",listing:"pio-debugger_listing__H8pXq",lineNumber:"pio-debugger_lineNumber__5b5Ch",breakpoint:"pio-debugger_breakpoint__IFSxP",registers:"pio-debugger_registers__AGbJB",fifo:"pio-debugger_fifo__Zla_w"}},60637:function(e){e.exports={modalContent:"share-modal_modalContent__a0qu0",shareLinkContainer:"share-modal_shareLinkContainer___kHxS"}},15858:function(e){e.exports={topButtons:"project-page_topButtons__E_rbw",main:"project-page_main__KMKhI",button:"project-page_button__5z1or",buttonIcon:"project-page_buttonIcon__tgieg"}},7054:function(e){e.exports={altContent:"user-menu_altContent__kVmnu",alt1:"user-menu_alt1__5Xyya",alt2:"user-menu_alt2___1kYx","show-hide":"user-menu_show-hide__C3b0m"}},2308:function(e){e.exports={splitPane:"workbench-desktop_splitPane__nOV1_",container:"workbench-desktop_container__LDB8z",editor:"workbench-desktop_editor__AmDGz",preview:"workbench-desktop_preview__AdZiG",diagramOnly:"workbench-desktop_diagramOnly__6EwWF"}},44873:function(e){e.exports={container:"workbench-mobile_container__gLF2d",tab:"workbench-mobile_tab__VY3Ub",editor:"workbench-mobile_editor__nCRvf",diagram:"workbench-mobile_diagram__4gJe2"}}}]);